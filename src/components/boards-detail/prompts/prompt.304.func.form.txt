아래의 조건을 모두 적용하여, 아래의 요구사항을 모두 구현할 것.
구현 결과를 체크리스트로 반환할 것.

==============================================

조건-커서룰) 아래의 커서룰을 적용하여 작업하고, 이 작업이 끝나면 해당 rules 적용 결과를 체크리스트로 반환할 것.
            - @01-common.mdc
            - @04-func.mdc

==============================================

조건-API) GraphQL 엔드포인트: http://main-practice.codebootcamp.co.kr/graphql
조건-파일경로) 참고할 API  문서경로: https://main-practice.codebootcamp.co.kr/graphql
조건-파일경로) 참고할 TSX  파일경로: src/components/boards-detail/index.tsx
조건-파일경로) 참고할 CSS  파일경로: src/components/boards-detail/styles.module.css
조건-파일경로) 구현될 HOOK 파일경로: src/components/boards-detail/hooks/index.form.hook.tsx
조건-파일경로) 구현될 TEST 파일경로: src/components/boards-detail/tests/index.form.hook.spec.ts

==============================================

핵심요구사항) 다음의 기능을 playwright 테스트를 활용하여 TDD기반으로 구현하고, 테스트에 통과할 때까지 반복할 것.
            1) 테스트 제외 라이브러리
                - jest
                - @testing-library/react

            2) 테스트 조건
                - timeout은 network 통신인 경우 2000ms 미만으로 설정할 것.
                - timeout은 network 통신이 아닌 경우 설정하지 않거나, 500ms 미만으로 설정할 것.
                - /boards/[id] 페이지가 완전히 로드된 후 테스트할 것.
                    - 페이지 로드 식별 요구사항: 고정식별자 data-testid 대기 방법 (board-detail-page)
                    - 페이지 로드 식별 금지사항: networkidle 대기 방법

            3) 테스트 API 조건
                3-1) 데이터
                    - 실제데이터를 사용할 것.
                    - Mock데이터 사용하지 말 것.

                3-2) 성공시나리오
                    - API 모킹하지 말 것.
                    - createBoardComment API: BoardComment!가 정상적으로 반환되는지 확인할 것.

                3-3) 실패시나리오
                    - API 모킹할 것.

핵심요구사항) 다음의 조건에 맞게 댓글 작성 폼 등록 기능을 step-by-step 으로 구현하고, 적용 결과를 체크리스트로 반환할 것.
            1) 라이브러리조건
                - 폼: 이미 설치되어있는 react-hook-form, @hookform/resolvers를 사용할 것.
                - 검증: 이미 설치되어있는 zod를 사용할 것.
                - API: 이미 설치되어있는 @tanstack/react-query를 사용할 것.

            2) 유저시나리오(댓글 작성)
                1. 모든 필수 입력 필드가 입력되면 댓글 등록 버튼을 활성화 할 것.
                    - 필수 필드: 작성자, 비밀번호, 별점, 댓글 내용

                2. 별점 기능을 구현할 것.
                    2-1) 별점은 1~5점까지 선택 가능
                    2-2) 별점을 선택하지 않으면 댓글 등록 버튼이 비활성화 될 것.
                    2-3) 별점 선택 시 시각적 피드백을 제공할 것.

                3. 댓글 등록 버튼을 누르면 댓글 작성 API를 요청할 것.
                    3-1) API명: createBoardComment
                    3-2) 요청데이터: boardId, createBoardCommentInput(writer, password, rating, contents)
                        - boardId: ID! (현재 게시물의 _id)
                        - writer: string (필수, 로그인된 사용자 이름으로 자동 입력)
                        - password: string (필수, 모든 사용자 필수 입력)
                        - rating: Float! (필수, 1~5 사이의 값)
                        - contents: string! (필수, 댓글 내용)
                    3-3) 응답데이터: { createBoardComment: BoardComment }
                    3-4) zod 검증 조건
                        - writer: 최소 1글자 이상 (로그인된 사용자 이름으로 자동 설정)
                        - password: 최소 1글자 이상 (필수 입력)
                        - rating: 1 이상 5 이하의 숫자 (필수 입력)
                        - contents: 최소 1글자 이상, 최대 100자 이하 (필수 입력)

                4. 댓글 작성에 성공하면, 작성완료모달을 노출하고, 아래의 상황별 지시를 따를 것.

                5. 댓글 작성에 실패하면, 작성실패모달을 노출하고, 아래의 상황별 지시를 따를 것.
                
                6. 각 상황별 모달의 확인을 누르면, 아래의 지시에 따를 것.
                    6-1) 모달조건
                        - 모달 프로바이더 경로: src/commons/providers/modal/modal.provider.tsx
                        - 이미 셋팅되어있는 modal.provider를 사용할 것.
                        - 이미 셋팅되어있는 modal.provider를 수정하지 말 것.
                        - 모달은 한 번만 보여야 하며, 닫힌 뒤에는 같은 상황에서 다시 나타나지 않도록 할 것.

                    6-2) 공통컴포넌트조건
                        - 작성완료모달: <Modal />, variant: 'info', actions: 'single'
                        - 작성실패모달: <Modal />, variant: 'danger', actions: 'single'

                    6-3) 페이지이동조건
                        - commons/constants/url.ts의 페이지URL에 정의된 경로로 이동할 것.

                        - 작성완료모달:
                            1. '확인' 클릭
                            2. 열려있는 모든 모달을 닫기
                            3. 댓글 작성 후에는 현재 페이지에 머무르되, 댓글 목록을 최신화할 것.
                                - fetchBoardComments 쿼리 캐시를 invalidate하여 댓글 목록을 refetch할 것.

                        - 작성실패모달:
                            1. '확인' 클릭
                            2. 열려있는 모든 모달을 닫기

                7. 댓글 작성 후 폼 초기화할 것.
                    7-1) 모든 입력 필드 초기화 (작성자, 비밀번호, 댓글 내용)
                    7-2) 별점 초기화 (0으로 설정)
                    7-3) 작성자는 로그인된 사용자 이름으로 자동으로 다시 입력될 것.

핵심요구사항) 댓글 작성 시, 에러메시지를 Input에 error관련 상태들을 넘겨줄 것.
        -  error={errors.writer?.message}
        -  error={errors.password?.message}
        -  error={errors.rating?.message}
        -  error={errors.contents?.message}

핵심요구사항) 폼 구조 및 UX 개선
        -  <form> 태그로 감싸서 Enter 키로 submit 가능하게 할 것.
        -  submit 버튼에 type="submit" 속성 추가할 것.
        -  에러 메시지에 role="alert" 추가하여 접근성 향상.
        -  댓글 작성 중일 때 submit 버튼 비활성화할 것 (isPending 체크).
        -  onSubmit에서 중복 요청 방지할 것.

핵심요구사항) 댓글 작성자 Input 처리
        -  로그인된 사용자만 상세 페이지에 접근 가능하므로:
            1. 작성자 Input에 로그인된 사용자 이름이 자동으로 입력될 것.
            2. 작성자 Input은 readOnly 속성으로 설정하여 수정 불가능하게 할 것.
            3. 비밀번호 Input은 필수 입력 필드로 동작할 것.
            4. 모든 필드(작성자, 비밀번호, 별점, 댓글 내용)가 필수로 입력되어야 함.

핵심요구사항) 댓글 목록 최신화
        -  댓글 작성 성공 시, fetchBoardComments 쿼리 캐시를 invalidate하여 댓글 목록을 자동으로 refetch할 것.
        -  queryKey: ['fetchBoardComments', boardId, 1] 형식으로 캐시를 invalidate할 것.


핵심요구사항) 댓글 작성 시 별점 필수 검증을 구현하고, 적용 결과를 체크리스트로 반환할 것.
            1) 별점 검증
                - 별점이 0점일 경우 댓글 등록 버튼 비활성화
                - 별점이 선택되지 않았을 때 에러 메시지 표시
                - zod schema에서 rating 필드 최소값 1로 검증

            2) 별점 UI 피드백
                - 별점 선택 시 즉시 시각적 피드백 제공
                - 선택된 별점과 선택되지 않은 별점을 명확히 구분
                - 별점 입력 필드에 에러 상태 표시 가능

핵심요구사항) 로그인 사용자 댓글 작성 폼 처리 (비로그인 사용자는 페이지 접근 불가)
            1) 로그인 상태 확인
                - useAuth hook을 사용하여 로그인된 사용자 정보 확인
                - user 정보를 활용하여 작성자 이름 자동 설정

            2) 작성자 Input 처리
                - 로그인된 사용자의 이름(user.name)을 자동으로 설정
                - readOnly 속성으로 수정 불가능하게 설정
                - 게시물 등록과 동일한 방식으로 처리

            3) 모든 필드 필수 입력 처리
                - 작성자: 자동 설정 (readOnly)
                - 비밀번호: 필수 입력 필드
                - 별점: 필수 선택 (1~5점)
                - 댓글 내용: 필수 입력 필드

            4) zod 검증 처리
                - 모든 필드가 필수이므로 단순한 required 검증 적용
                - writer, password, rating, contents 모두 필수 검증

